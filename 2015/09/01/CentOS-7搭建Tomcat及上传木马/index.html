<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<link rel="stylesheet" type="text/css" href="/css/main.css?v="/>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
<title> CentOS 7搭建Tomcat及上传木马 | 时针它不停在转动 </title>
</head>
<body>
<div id="">
<header id="header" class="header"><div class="header_wrapper">
<h1 class="title">
<a href="/">时针它不停在转动</a>
</h1>

<ul class="nav">


<li>
<a href="/">首页</a>
</li>


<li>
<a href="/archives">归档</a>
</li>


<li>
<a href="/about">关于</a>
</li>

</ul>
</div>
</header>
<main id="main" class="main">
<section id="content" class="content ">

  <div id="posts" class="posts-expand">
    
<article class="post">
<header class="post-header">
<h1 class="post-title">

CentOS 7搭建Tomcat及上传木马
</a>

</h1>
<div class="post-meta">
<span class="post-time">2015-09-01</span>
<span class="post-category">

&nbsp; | &nbsp;
<a class="post-cat-link" href="/categories/网络安全/">
网络安全
</a>

</span>
</div>
</header>

<span class="articleBody"><h1 id="Yum方式安装Tomcat"><a href="#Yum方式安装Tomcat" class="headerlink" title="Yum方式安装Tomcat"></a><a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-centos-7" target="_blank" rel="external">Yum方式安装Tomcat</a></h1><h2 id="第一步-安装Tomcat"><a href="#第一步-安装Tomcat" class="headerlink" title="第一步 安装Tomcat"></a>第一步 安装Tomcat</h2><figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo yum <span class="keyword">install</span> tomcat</div></pre></td></tr></table></figure>
<p>这一步将会安装Tomcat和依赖包,比如Java,同时创建Tomcat用户.Tomcat文件位于/usr/share/tomcat目录下.</p>
<h2 id="第二步-安装管理包"><a href="#第二步-安装管理包" class="headerlink" title="第二步 安装管理包"></a>第二步 安装管理包</h2><p>第一步安装成功后,具备了tomcat功能,但是没有web管理模块和默认Tomcat界面,需要单独安装.<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum <span class="keyword">install</span> tomcat-webapps tomcat-<span class="keyword">admin</span>-webapps</div></pre></td></tr></table></figure></p>
<p>这一步会添加ROOT,examples,sample,manager和host-manager webapps在tomcat/webapps目录下.</p>
<h1 id="源代码安装Tomcat"><a href="#源代码安装Tomcat" class="headerlink" title="源代码安装Tomcat"></a><a href="https://www.digitalocean.com/community/tutorials/how-to-install-apache-tomcat-8-on-centos-7" target="_blank" rel="external">源代码安装Tomcat</a></h1><p>源代码安装的优点是可以安装指定版本的软件,缺点是处理报包依赖比较麻烦。</p>
<h2 id="第一步-安装Java"><a href="#第一步-安装Java" class="headerlink" title="第一步 安装Java"></a>第一步 安装Java</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">sudo</span> <span class="selector-tag">yum</span> <span class="selector-tag">insatll</span> <span class="selector-tag">java-1</span><span class="selector-class">.7</span><span class="selector-class">.0-openjdk-devel</span></div></pre></td></tr></table></figure>
<p><strong>NOTES:</strong>可以先行进行查询，选择相应的包名</p>
<h2 id="第二步-安装Tomcat"><a href="#第二步-安装Tomcat" class="headerlink" title="第二步 安装Tomcat"></a>第二步 安装Tomcat</h2><p>下载源代码<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget http:<span class="regexp">//mi</span>rror.sdunix.com<span class="regexp">/apache/</span>tomcat<span class="regexp">/tomcat-8/</span>v8.<span class="number">0.23</span><span class="regexp">/bin/</span>apache-tomcat-<span class="number">8.0</span>.<span class="number">23</span>.tar.gz</div></pre></td></tr></table></figure></p>
<p>创建安装目录，并解压<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo mkdir /usr/share/tomcat</div><div class="line">sudo tar xvf apache-tomcat-<span class="number">8.0</span>.<span class="number">23</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span> -C /usr/share/tomcat</div></pre></td></tr></table></figure></p>
<h1 id="配置Tomcat后台用户密码"><a href="#配置Tomcat后台用户密码" class="headerlink" title="配置Tomcat后台用户密码"></a>配置Tomcat后台用户密码</h1><p>上述两种方法安装成功后,需要配置web管理端用户.<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vi <span class="regexp">/usr/</span>share<span class="regexp">/tomcat/</span>conf<span class="regexp">/tomcat-users.xml</span></div></pre></td></tr></table></figure></p>
<p>锁定此处:</p>
<pre><code>&lt;tomcat-user&gt;
....
&lt;/tomcat-user&gt;
</code></pre><p>添加如下内容:</p>
<pre><code>&lt;user username=&quot;admin&quot; password=&quot;password&quot; roles=&quot;manager-gui,admin-gui&quot;/&gt;
</code></pre><h1 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h1><pre><code>systemctl start tomcat
</code></pre><h1 id="上传一句话木马"><a href="#上传一句话木马" class="headerlink" title="上传一句话木马"></a>上传一句话木马</h1><p><strong>默认管理地址:</strong> <a href="http://ip:8080/manager/" target="_blank" rel="external">http://ip:8080/manager/</a><br><strong>上传war包</strong>:其中JSP文件为木马文件.可以选择中国菜刀目录Customize/Customize.jsp文件.<br><strong>菜刀连接</strong>类型选择Customize.</p>
</span>

<footer class="post-footer">

<a class="post-tag-link" href="/tags/Linux/">#Linux</a>

<a class="post-tag-link" href="/tags/Tomcat/">#Tomcat</a>



<div class="post-nav">
	<div class="post-nav-prev post-nav-item">
	
		<a rel="prev" href="/2015/09/08/漏洞利用分析/">漏洞利用分析</a>
	
    </div>
    <div class="post-nav-next post-nav-item">
    
    	<a rel="next" href="/2015/09/01/实习第一天感悟/">实习第一天感悟</a>
    
    </div>
</div>

</footer>
</article>


    <div class="post-spread">
      
    </div>
  </div>

</section>
</main>
<footer class="footer" id="footer">
<div class="copyright">
<i class="fa fa-copyright">2015-2017</i>
</div>
</footer>
</div>



</body>
</html>